{"version":3,"sources":["webpack:///./js/form-default.js","webpack:///./js/spinner.js","webpack:///./js/refs.js","webpack:///./js/show-results.js","webpack:///./js/settings-input.js","webpack:///./js/fetch-countries.js","webpack:///./templates/results-list.hbs","webpack:///./templates/country-result.hbs"],"names":["document","querySelector","addEventListener","e","preventDefault","spinner","Spinner","lines","length","width","radius","scale","corners","color","fadeColor","speed","rotate","animation","direction","zIndex","className","top","left","shadow","position","inputRef","resultsRef","bodyRef","defaultModules","set","PNotifyMobile","refs","target","value","setTimeout","window","scrollTo","defaults","delay","debounce","query","name","wrongQuery","innerHTML","error","text","spin","stop","fetch","then","res","ok","json","Error","data","choosingFromList","a","filter","element","textContent","insertMarkup","countryResult","removeEventListener","selectFromList","resultList","markup","showResult","finally","catch","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext","stack1","program","noop","alias1","alias2","alias4"],"mappings":"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","file":"main.5f3d9e58f1eac5e87bc4.js","sourcesContent":["const formRef = document.querySelector('.search-form') \r\n\r\nformRef.addEventListener('submit', ((e) => e.preventDefault()));","import { Spinner } from 'spin.js';\r\nimport 'spin.js/spin.css';\r\n\r\nvar opts = {\r\n  lines: 12, // The number of lines to draw\r\n  length: 38, // The length of each line\r\n  width: 12, // The line thickness\r\n  radius: 26, // The radius of the inner circle\r\n  scale: 0.75, // Scales overall size of the spinner\r\n  corners: 1, // Corner roundness (0..1)\r\n  color: '#8080ff', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  speed: 1.5, // Rounds per second\r\n  rotate: 0, // The rotation offset\r\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  zIndex: 2e9, // The z-index (defaults to 2000000000)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  top: '50%', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  position: 'absolute', // Element positioning\r\n};\r\n\r\nconst spinner = new Spinner(opts)\r\nexport {spinner} \r\n","export default {\r\n  inputRef: document.querySelector('input#searchQuery'),\r\n  resultsRef: document.querySelector('.results-js'),\r\n  bodyRef: document.querySelector('body')\r\n};\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport { error, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport '@pnotify/core/dist/BrightTheme.css'\r\n\r\ndefaultModules.set(PNotifyMobile, {});\r\n\r\nimport resultList from '../templates/results-list.hbs';\r\nimport countryResult from '../templates/country-result.hbs';\r\nimport refs from './refs';\r\n\r\nexport default function showResult(data) {\r\n  let markup = '';\r\n  if (data.length > 10) {\r\n    error({\r\n      text: 'Too many matches found. Please enter a more specific query!',\r\n    });\r\n    refs.resultsRef.innerHTML = '';\r\n    return;\r\n  }\r\n  if (data.length >= 2 && data.length <= 10) {\r\n    selectFromList(data);\r\n    markup = resultList(data);\r\n    insertMarkup(markup);\r\n    return;\r\n  }\r\n  if (data.length === 1) {\r\n    markup = countryResult(...data);\r\n    insertMarkup(markup);\r\n    return;\r\n  }\r\n\r\n  function insertMarkup(markup) {\r\n    refs.resultsRef.innerHTML = markup;\r\n  }\r\n\r\n  function selectFromList(data) {\r\n    refs.resultsRef.addEventListener('click', choosingFromList);\r\n\r\n    function choosingFromList(e) {\r\n      const a = data.filter(element => element.name === e.target.textContent);\r\n      const markup = countryResult(...a);\r\n      insertMarkup(markup);\r\n      refs.inputRef.value = e.target.textContent;\r\n      refs.resultsRef.removeEventListener('click', choosingFromList);\r\n    }\r\n  }\r\n}\r\n","import refs from './refs';\r\n\r\nrefs.inputRef.addEventListener('click', onClick);\r\n\r\nfunction onClick({ target }) {\r\n  target.value = '';\r\n\r\n  setTimeout(window.scrollTo(-10000000, 0), 0);\r\n}\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport { defaults } from '@pnotify/core';\r\nimport { error, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\ndefaultModules.set(PNotifyMobile, {});\r\ndefaults.delay = '3000';\r\n\r\nimport debounce from 'lodash.debounce';\r\nimport { spinner } from './spinner';\r\nimport showResult from './show-results';\r\nimport refs from './refs';\r\nimport './settings-input';\r\n\r\nfunction searchCountry(query) {\r\n  const url = 'https://restcountries.eu/rest/v2/name/';\r\n  const name = query.target.value;\r\n  spinner.spin(refs.bodyRef);\r\n\r\n  function wrongQuery() {\r\n    clearResultsList();\r\n    error({\r\n      text: 'Please enter the correct country name',\r\n    });\r\n  }\r\n\r\n  function clearResultsList() {\r\n    refs.resultsRef.innerHTML = '';\r\n  }\r\n\r\n  if (name.length === 0) {\r\n    wrongQuery();\r\n    spinner.stop();\r\n    return;\r\n  }\r\n\r\n  fetch(url + name)\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      throw new Error('Error fetching data');\r\n    })\r\n    .then(data => showResult(data))\r\n    .finally(() => {\r\n      spinner.stop();\r\n    })\r\n    .catch(wrongQuery);\r\n}\r\n\r\nrefs.inputRef.addEventListener('input', debounce(searchCountry, 500));\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"list-group-item list-group-item-action\\\">\\r\\n        <p class=\\\"list-group-item--value\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":42},\"end\":{\"line\":4,\"column\":50}}}) : helper)))\n    + \"</p>\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"list-group list-group-js\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":6,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <li>\\r\\n                    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":20},\"end\":{\"line\":15,\"column\":28}}}) : helper)))\n    + \"\\r\\n                </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":25},\"end\":{\"line\":1,\"column\":33}}}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"country-info\\\">\\r\\n    <ul class=\\\"country-info--list\\\">\\r\\n        <li class=\\\"country-info--list-item\\\">\\r\\n            <p><span class=\\\"country-info--category\\\">Capital: </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":68},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"</p>\\r\\n        </li>\\r\\n        <li class=\\\"country-info--list-item\\\">\\r\\n            <p><span class=\\\"country-info--category\\\">Population: </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":71},\"end\":{\"line\":8,\"column\":85}}}) : helper)))\n    + \"</p>\\r\\n        </li >\\r\\n        <li class=\\\"country-info--languages country-info--list-item\\\">\\r\\n            <p><span class=\\\"country-info--category\\\">Languages:</span></p>\\r\\n            <ul class=\\\"languages-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":17,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </ul>\\r\\n        </li>\\r\\n    </ul>\\r\\n    <img class=\\\"country-info--img shadow-lg mb-5 bg-white rounded\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":72},\"end\":{\"line\":21,\"column\":80}}}) : helper)))\n    + \"\\\" alt=\\\"\\\">\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}